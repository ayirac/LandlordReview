<!DOCTYPE html>
<html>
    <head>
        <title>Landlord Review</title>
        <meta charset="utf-8" />
        <meta name="viewport" content="width=device-width, initial-scale=1.0">
        <link rel="stylesheet" href="styles.css">
        <link rel="stylesheet" href="https://unpkg.com/leaflet/dist/leaflet.css" />
        <link rel="stylesheet" href="https://unpkg.com/react-leaflet-markercluster/dist/styles.min.css"/>
        <script type="text/javascript" src="https://cdnjs.cloudflare.com/ajax/libs/leaflet/1.7.1/leaflet.js"></script>
        <script type="text/javascript" src="https://unpkg.com/leaflet.markercluster@1.4.1/dist/leaflet.markercluster.js"></script>
        <script type="text/javascript" src="dist/bundle.js"></script>
        <link rel="preconnect" href="https://fonts.googleapis.com">
        <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
        <link rel="preconnect" href="https://fonts.googleapis.com">
        <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
        <link href="https://fonts.googleapis.com/css2?family=Roboto&display=swap" rel="stylesheet">
        <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0-beta3/css/all.min.css" />
        <script src="https://code.jquery.com/jquery-3.6.0.min.js"></script>

    </head>
<body>
    <header>
        <div id="logo-container">
            <img src="/images/logo.png">
        </div>
        <div class="search-container">
            <input type="text" placeholder="Search...">
            <button type="submit"><i class="fa fa-search"></i></button>
        </div>
        <nav>
            <ul>
                <li><a href="#">Item1</a></li>
                <li><a href="#">Item2</a></li>
                <li><a href="#">Item3</a></li>
                <li><a href="#">Item4</a></li>
            </ul>
        </nav>
    </header>
    <div id="filter-container">
        <div class="popup-container">
            <div class="popup-button" id="filter-box">Filters <i class="fas fa-chevron-down"></i></div>
            <div id="filter-popup-box" class="popup-box">
                <h2>Amenities</h2>
                <div class="form-container">
                    <div class="form-segment">
                        <label class="form-control">
                            <input type="checkbox" name="checkbox" />
                            Air Conditioning
                        </label>   
                        <label class="form-control">
                            <input type="checkbox" name="checkbox" />
                            Balcony
                        </label> 
                        <label class="form-control">
                            <input type="checkbox" name="checkbox" />
                            Car Charger
                        </label> 
                        <label class="form-control">
                            <input type="checkbox" name="checkbox" />
                            Community Center
                        </label> 
                        <label class="form-control">
                            <input type="checkbox" name="checkbox" />
                            Controlled Access
                        </label>               
                    </div>
                    <div class="form-segment">
                        <label class="form-control">
                            <input type="checkbox" name="checkbox" />
                            Dishwasher
                        </label>   
                        <label class="form-control">
                            <input type="checkbox" name="checkbox" />
                            Elevator
                        </label> 
                        <label class="form-control">
                            <input type="checkbox" name="checkbox" />
                            Fitness Center
                        </label> 
                        <label class="form-control">
                            <input type="checkbox" name="checkbox" />
                            Furnished
                        </label> 
                        <label class="form-control">
                            <input type="checkbox" name="checkbox" />
                            Garage
                        </label>               
                    </div>
                </div>
                <h2>Community Type</h2>
                <div class="form-container">
                    <div class="form-segment">
                        <label class="form-control">
                            <input type="checkbox" name="checkbox" />
                            Student Housing
                        </label>              
                    </div>
                    <div class="form-segment">
                        <label class="form-control">
                            <input type="checkbox" name="checkbox" />
                            Eldery Housing
                        </label>   
                    </div>
                </div>
                <span class="clear">Clear</span>
            </div>
        </div>
        <div class="popup-container">
            <div class="popup-button" id="rent-range-box">Rent Range <i class="fas fa-chevron-down"></i></div>
            <div id="rent-popup-box" class="popup-box">
                <h2>Rent Range</h2>
                <div class="form-container">
                    <div class="form-segment">
                        <section class="range-slider container">
                            <span class="left-label">$0</span>
                            <span class="right-label">$10,000</span>
                            <span class="output outputOne" style="left: 31.01%;">3101</span>
                            <span class="output outputTwo" style="left: 91.88%;">9188</span>
                            <span class="full-range"></span>
                            <span class="incl-range" style="width: 60.87%; left: 31.01%;"></span>
                            <input name="rangeOne" value="0" min="0" max="10000" step="1" type="range">
                            <input name="rangeTwo" value="10000" min="0" max="10000" step="1" type="range">
                          </section> 
                    </div>
                </div>
                <span class="clear">Clear</span>
            </div>
        </div>
        <span class="clear" style="right:20px; top:15px;">Clear</span>
        <div class="dropdown">
            <button class="dropbtn" id="sort-drop-b">Sort: Default <i class="fas fa-chevron-down"></i></button>
            <div class="dropdown-content" id="sort-drop-c">
                <a href="#" id="default">Default</a>
                <a href="#" id="rent-ascending">Rent (Ascending)</a>
                <a href="#" id="rent-descending">Rent (Descending)</a>
                <a href="#" id="average-rating">Average Rating</a>
                <a href="#" id="amount-of-reviews">Amount of Reviews</a>
            </div>
        </div>
        
    </div>
    <div id ="frame-container">
        <div id="map-container">
            <button id="refreshButton">Refresh results</button>
            <div id="map"></div>
        </div>
        <div id="post-component">
            <div id ="post-container"></div>
            <div class="page-manager-container" id="map-page-manager-container">
                <a class="prev-page" style="display: none;">Previous Page</a>
                <input class="page-input" value="0">
                <a class="next-page">Next Page</a>
            </div>              
        </div>
    </div>
    <div id="property-page-container">
    </div>
    
</body>

</html>

<script>
    var rangeOne = document.querySelector('input[name="rangeOne"]'),
    rangeTwo = document.querySelector('input[name="rangeTwo"]'),
    outputOne = document.querySelector('.outputOne'),
    outputTwo = document.querySelector('.outputTwo'),
    inclRange = document.querySelector('.incl-range'),
    updateView = function () {
        if (this.getAttribute('name') === 'rangeOne') {
            outputOne.innerHTML = this.value;
            outputOne.style.left = this.value / this.getAttribute('max') * 100 + '%';
        } else {
            outputTwo.style.left = this.value / this.getAttribute('max') * 100 + '%';
            outputTwo.innerHTML = this.value
        }
        if (parseInt(rangeOne.value) > parseInt(rangeTwo.value)) {
            inclRange.style.width = (rangeOne.value - rangeTwo.value) / this.getAttribute('max') * 100 + '%';
            inclRange.style.left = rangeTwo.value / this.getAttribute('max') * 100 + '%';
        } else {
            inclRange.style.width = (rangeTwo.value - rangeOne.value) / this.getAttribute('max') * 100 + '%';
            inclRange.style.left = rangeOne.value / this.getAttribute('max') * 100 + '%';
        }
    };

    document.addEventListener('DOMContentLoaded', function () {
        updateView.call(rangeOne);
        updateView.call(rangeTwo);
        $('input[type="range"]').on('mouseup', function() {
            this.blur();
        }).on('mousedown input', function () {
            updateView.call(this);
        });
    });
</script>